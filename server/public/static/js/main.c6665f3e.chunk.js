(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t,n){},133:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n(17),i=n.n(a),o=(n(131),n(9)),s=n.n(o),j=n(18),u=(n(133),n(24)),d=n(20),l=(n(134),n(5)),b=n(15),h=n(16);function O(){var e=Object(b.a)(["\n  height: 35px;\n  background: white;\n  color: black;\n  padding-left: 5px;\n  font-size: 14px;\n  border: 1px solid #DDD;\n  margin-left: 10px;\n  margin-right: 10px;\n  margin-top:5px;\n\n  option {\n    color: black;\n    background: white;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n"]);return O=function(){return e},e}function p(){var e=Object(b.a)(["\n  font-weight: bold;\n  margin-bottom: 0px;\n"]);return p=function(){return e},e}function x(){var e=Object(b.a)(["\n  border-radius: 20px;\n  margin-bottom: 1rem !important;\n  padding: 1%;\n  color:white;\n  border:1px solid rgba(0, 0, 0, 0.26);\n  background: #1890ff;\n  transition-duration: 0.4s;\n  padding-left: 10px;\n  padding-right: 10px;\n\n  &:disabled {\n      background: #F1F1F1;\n      color: rgba(0, 0, 0, 0.26);\n      transition-duration: 0.4s;\n  }\n"]);return x=function(){return e},e}function f(){var e=Object(b.a)(["\n  text-align: right;\n  margin-top: 10px;\n  padding-right: 15px;\n"]);return f=function(){return e},e}function m(){var e=Object(b.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  flex-wrap: wrap;\n"]);return m=function(){return e},e}function g(){var e=Object(b.a)(["\n    flex: ",";\n    padding-right: ",";\n  "]);return g=function(){return e},e}function v(){var e=Object(b.a)(["\nflex-grow: 1;\n"]);return v=function(){return e},e}function w(){var e=Object(b.a)(["\nwidth: 100%;\n"]);return w=function(){return e},e}function y(){var e=Object(b.a)(["\n text-align: center;\n text-decoration: none;\n color: black;\n "]);return y=function(){return e},e}function k(){var e=Object(b.a)(["\nborder: none;\ncolor: white;\npadding: 10px 10px;\ntext-align: center;\ntext-decoration: none;\ndisplay: inline-block;\nfont-size: 16px;\nmargin: 4px 2px;\ntransition-duration: 0.4s;\nbackground-color: white;\n  color: black;\n  border: 2px solid #e7e7e7;\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);\n\n  &:hover {\n    background-color: #e7e7e7;\n  }\n\n  &:disabled {\n      box-shadow: none;\n      opacity: 0.3;\n "]);return k=function(){return e},e}function S(){var e=Object(b.a)(["\n width: 100%;\n border-radius: 20px;\n margin-bottom: 1rem !important;\n padding: 1%;\n color:white;\n border:1px solid rgba(0, 0, 0, 0.26);\n background: #dc3545;\n transition-duration: 0.4s;\n \n &:disabled {\n    background: #F1F1F1;\n    color: rgba(0, 0, 0, 0.26);\n    transition-duration: 0.4s;\n }\n "]);return S=function(){return e},e}function N(){var e=Object(b.a)(["\n width: 100%;\n border-radius: 20px;\n margin-bottom: 1rem !important;\n padding: 1%;\n color:white;\n border:1px solid rgba(0, 0, 0, 0.26);\n background: #037dff;\n transition-duration: 0.4s;\n \n &:disabled {\n    background: #F1F1F1;\n    color: rgba(0, 0, 0, 0.26);\n    transition-duration: 0.4s;\n }\n "]);return N=function(){return e},e}function C(){var e=Object(b.a)(["\n bdisplay: block;\n width: 100%;\n padding: 0.4375rem 0;\n font-size: 1rem;\n line-height: 1.5;\n color: #495057;\n background-color: transparent;\n background-clip: padding-box;\n border: none;\n border-bottom: 1px solid rgba(0, 0, 0, 0.26);\n border-radius: 0;\n box-shadow: none;\n\n outline: none;\n &:focus {\n    border-bottom: 2px solid #018B5D;\n    transition: all 0.2s linear;\n }\n\n &:disabled {\n    background: #F1F1F1;\n    color: rgba(0, 0, 0, 0.26);\n    transition-duration: 0.4s;\n }\n "]);return C=function(){return e},e}function I(){var e=Object(b.a)(["\ndisplay: grid;\njustify-content: space-evenly;\ngrid-template-columns: auto auto auto;\ngrid-gap: 10px;\npadding: 10px;\n"]);return I=function(){return e},e}function z(){var e=Object(b.a)(["\n margin-bottom: 1rem;\n "]);return z=function(){return e},e}function _(){var e=Object(b.a)(["\n flex: 0 0 50%;\n    max-width: 50%;\n    margin-left: 25%;\n \n "]);return _=function(){return e},e}function E(){var e=Object(b.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-right: -15px;\n    margin-left: -15px;\n "]);return E=function(){return e},e}function D(){var e=Object(b.a)(["\n    width: 80%;\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-right: auto;\n    margin-left: auto; }\n    @media (min-width: 576px) {\n      .container {\n        max-width: 540px; } }\n    @media (min-width: 768px) {\n      .container {\n        max-width: 720px; } }\n    @media (min-width: 992px) {\n      .container {\n        max-width: 960px; } }\n    @media (min-width: 1200px) {\n      .container {\n        max-width: 1140px; } }\n    padding: 3rem !important;\n"]);return D=function(){return e},e}var P=h.a.div(D()),R=h.a.div(E()),F=h.a.div(_()),A=h.a.div(z()),L=(h.a.div(I()),h.a.input(C())),T=h.a.button(N()),G=h.a.button(S()),U=h.a.button(k()),K=h.a.h4(y()),J=h.a.div(w()),M=h.a.div(v()),q=h.a.div(g(),(function(e){return e.size}),(function(e){return e.paddingRight?e.paddingRight:"0px"})),B=h.a.div(m()),W=h.a.p(f()),$=h.a.button(x()),H=h.a.p(p()),X=h.a.select(O()),V=n(4),Q=n(194),Y=n(195),Z=n(11),ee=n(25),te=n.n(ee),ne=function(e){return te.a.get("".concat("http://localhost:8000/api","/find-products-by-category/").concat(e))},re=function(e){return te.a.get("".concat("http://localhost:8000/api","/find-product/").concat(e))},ce=n(12);function ae(){var e=Object(b.a)(["\nborder: none;\ncolor: white;\nfloat: right !important;\nmargin: 4px 4px;\ndisplay: inline-block;\nbackground-color: white;\n  color: black;\n  border: 2px solid #e7e7e7;\n\n  &:hover {\n    background-color: #e7e7e7;\n  }\n\n  &:disabled {\n      box-shadow: none;\n      opacity: 0.3;\n"]);return ae=function(){return e},e}function ie(){var e=Object(b.a)(["\nwidth: 100%;\nheight: 100%;\n"]);return ie=function(){return e},e}function oe(){var e=Object(b.a)(["\nborder: none;\nwidth: 100%;\nheight: 100%;\ncolor: white;\npadding: 10px 10px;\ntext-align: center !important;\ntext-decoration: none;\ndisplay: inline-block;\nfont-size: 16px;\nmargin: 4px 2px;\ndisplay: flex;\nflex-direction: column;\ntransition-duration: 0.4s;\nbackground-color: white;\n  color: black;\n  border: 2px solid #e7e7e7;\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);\n\n  &:hover {\n    background-color: #e7e7e7;\n  }\n\n  &:disabled {\n      box-shadow: none;\n      opacity: 0.3;\n"]);return oe=function(){return e},e}var se=h.a.div(oe()),je=h.a.img(ie()),ue=h.a.button(ae()),de=function(e){var t=e.image,n=e.name,a=e.id,i=(e.hidden,Object(Z.c)((function(e){return Object(V.a)({},e)})).user),o=Object(c.useState)({}),s=Object(l.a)(o,2),j=(s[0],s[1],Object(c.useState)(!1)),u=Object(l.a)(j,2),b=u[0],h=u[1],O=!1;return i&&("customer"==i.role?O=!1:"admin"==i.role&&(O=!0)),Object(r.jsx)(ce.b,{to:"/Product/".concat(a),children:Object(r.jsxs)(se,{children:[O&&Object(r.jsx)(J,{children:Object(r.jsxs)(ue,{onClick:function(e){e.preventDefault(),e.stopPropagation(),h(!b),d.b.info("No se pudo implementar por error To Many Re-renders al tratar de cargar el estado hidden de los botones")},children:[b&&Object(r.jsx)(Q.a,{}),!b&&Object(r.jsx)(Y.a,{})]})}),Object(r.jsx)(M,{}),Object(r.jsx)(J,{children:Object(r.jsx)(je,{src:t})}),Object(r.jsx)(M,{}),Object(r.jsx)(J,{children:Object(r.jsx)("p",{children:n})})]})})},le=function(e){var t=e.keyword,n=e.setKeyword;return Object(r.jsx)("input",{type:"search",placeholder:"Buscar",value:t,onChange:function(e){e.preventDefault(),n(e.target.value.toLowerCase())},className:"form-control mb-4"})},be=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),u=j[0],d=j[1];Object(c.useEffect)((function(){b()}),[]);var b=function(){te.a.get("".concat("http://localhost:8000/api","/find-products")).then((function(e){console.log(e),e&&o(e.data)}))};return Object(r.jsxs)(P,{children:[Object(r.jsx)(K,{children:"Todos los productos"}),Object(r.jsx)(le,{keyword:u,setKeyword:d}),Object(r.jsx)("div",{className:"row",children:i.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){return Object(r.jsx)("div",{className:"col-md-4",children:Object(r.jsx)(de,{name:e.name,image:e.image,id:e._id,hidden:e.hidden})},e._id)}))})]})},he=n(75);n(162);he.a.initializeApp({apiKey:"AIzaSyDJD8Cub1A3-nqq9dKH20Aom9slU-JA8K0",authDomain:"presupuestos-956d8.firebaseapp.com",databaseURL:"https://presupuestos-956d8.firebaseio.com",projectId:"presupuestos-956d8",storageBucket:"presupuestos-956d8.appspot.com",messagingSenderId:"111080916226",appId:"1:111080916226:web:4b12dafbd303f48436ee1b"});var Oe=he.a.auth(),pe=new he.a.auth.GoogleAuthProvider,xe=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(l.a)(n,2),i=a[0],o=a[1],u=Object(Z.c)((function(e){return Object(V.a)({},e)})).user;Object(c.useEffect)((function(){u&&u.token&&t.push("/")}),[u]);var b=function(){var e=Object(j.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={url:"http://localhost:3000/register/complete",handleCodeInApp:!0},i){e.next=5;break}return d.b.error("Email requerido"),e.abrupt("return");case 5:return e.next=7,Oe.sendSignInLinkToEmail(i,n);case 7:d.b.info("Correo enviado a ".concat(i,". Da click en el enlace para continuar tu registro.")),window.localStorage.setItem("emailForRegistration",i),o("");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(P,{children:Object(r.jsx)(R,{children:Object(r.jsxs)(F,{children:[Object(r.jsx)("h4",{children:"Registrarse"}),Object(r.jsxs)("form",{onSubmit:b,children:[Object(r.jsx)(A,{children:Object(r.jsx)(L,{type:"email",value:i,onChange:function(e){return o(e.target.value)},autoFocus:!0,placeholder:"Correo"})}),Object(r.jsx)(U,{type:"submit",children:"Registrarse"})]})]})})})},fe=function(){var e=Object(j.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.post("".concat("http://localhost:8000/api","/create-or-update-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.post("".concat("http://localhost:8000/api","/current-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(j.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.post("".concat("http://localhost:8000/api","/current-admin"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=n(196),we=n(197),ye=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(l.a)(n,2),i=a[0],o=a[1],u=Object(c.useState)(""),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(c.useState)(!1),x=Object(l.a)(p,2),f=x[0],m=x[1],g=Object(Z.c)((function(e){return Object(V.a)({},e)})).user;Object(c.useEffect)((function(){t.location.state||g&&g.token&&t.push("/")}),[g,t]);var v=Object(Z.b)(),w=function(e){var n=t.location.state;n?t.push(n.from):"admin"===e.data.role?t.push("/admin/dashboard"):t.push("/")},y=function(){var e=Object(j.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),e.prev=2,e.next=5,Oe.signInWithEmailAndPassword(i,h);case 5:return n=e.sent,r=n.user,e.next=9,r.getIdTokenResult();case 9:c=e.sent,fe(c.token).then((function(e){v({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:c.token,role:e.data.role,_id:e.data.id}}),w(e)})).catch((function(e){return console.log(e)})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),d.b.error(e.t0.message),m(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe.signInWithPopup(pe).then(function(){var e=Object(j.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,e.next=3,n.getIdTokenResult();case 3:r=e.sent,fe(r.token).then((function(e){v({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:r.token,role:e.data.role,_id:e.data._id}}),w(e)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),d.b.error(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(P,{children:Object(r.jsx)(R,{children:Object(r.jsxs)(F,{children:[f?Object(r.jsx)("h4",{className:"text-danger",children:"Espere..."}):Object(r.jsx)("h4",{children:"Iniciar Sesi\xf3n"}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("form",{onSubmit:y,children:[Object(r.jsx)(A,{children:Object(r.jsx)(L,{type:"email",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Correo",autoFocus:!0})}),Object(r.jsx)(A,{children:Object(r.jsx)(L,{type:"password",value:h,onChange:function(e){return O(e.target.value)},placeholder:"Contrase\xf1a"})}),Object(r.jsx)("br",{}),Object(r.jsx)(T,{onClick:y,disabled:!i||h.length<6,children:Object(r.jsxs)("span",{children:[Object(r.jsx)(ve.a,{})," Entrar "]})})]}),Object(r.jsx)(G,{onClick:k,children:Object(r.jsxs)("span",{children:[Object(r.jsx)(we.a,{})," Entrar con Google"]})}),Object(r.jsx)(ce.b,{to:"forgot/password",className:"float-right text-danger",children:"\xbfOlvidaste tu Contrase\xf1a?"})]})]})})})},ke=n(192),Se=n(193),Ne=n(198),Ce=n(199),Ie=n(200),ze=n(201),_e=n(202),Ee=n(203),De=n(121),Pe=function(){var e=Object(j.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.get("".concat("http://localhost:8000/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(j.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.delete("".concat("http://localhost:8000/api","/category/").concat(t),{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(j.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.post("".concat("http://localhost:8000/api","/category"),t,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=[];"undefined"!==typeof window&&(Ae=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]);function Le(){var e=Object(b.a)(["\n        float: right\n  "]);return Le=function(){return e},e}var Te=ke.a.SubMenu,Ge=ke.a.Item,Ue=(Object(h.a)(ke.a.Item)(Le()),function(){var e=Object(c.useState)("home"),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),s=(o[0],o[1],Object(Z.b)()),j=Object(Z.c)((function(e){return Object(V.a)({},e)})),d=j.user,b=j.cart;d&&("customer"==d.role||d.role);var h=Object(u.f)();return Object(r.jsxs)(ke.a,{onClick:function(e){a(e.key)},selectedKeys:[n],mode:"horizontal",children:[Object(r.jsx)(Ge,{icon:Object(r.jsx)(Ne.a,{}),children:Object(r.jsx)(ce.b,{to:"/",children:"Inicio"})},"home"),!d&&Object(r.jsx)(Ge,{icon:Object(r.jsx)(Ce.a,{}),className:"float-right",children:Object(r.jsx)(ce.b,{to:"/register",children:"Registrarse"})},"register"),!d&&Object(r.jsx)(Ge,{icon:Object(r.jsx)(Ie.a,{}),className:"float-right",children:Object(r.jsx)(ce.b,{to:"/login",children:"Iniciar sesi\xf3n"})},"login"),d&&Object(r.jsxs)(Te,{icon:Object(r.jsx)(ze.a,{}),title:d.email&&d.email.split("@")[0],className:"float-right",children:[d&&"customer"===d.role&&Object(r.jsx)(Ge,{children:Object(r.jsx)(ce.b,{to:"/user/history",children:"Historial"})}),d&&"admin"===d.role&&Object(r.jsx)(Ge,{children:Object(r.jsx)(ce.b,{to:"/admin/dashboard",children:"Dashboard"})}),Object(r.jsx)(Ge,{icon:Object(r.jsx)(_e.a,{}),onClick:function(){De.a.auth().signOut(),s({type:"LOGOUT",payload:null}),h.push("/")},children:"Logout"})]},"SubMenu"),Object(r.jsx)(Ge,{icon:Object(r.jsx)(Ee.a,{}),className:"float-right",children:Object(r.jsx)(ce.b,{to:"/cart",children:Object(r.jsx)(Se.a,{count:b.length,offset:[9,0],children:"Carrito"})})},"cart"),Object(r.jsx)(Ge,{className:"float-right",children:Object(r.jsx)(ce.b,{to:"/Otros",children:"Otros"})},"others"),Object(r.jsx)(Ge,{className:"float-right",children:Object(r.jsx)(ce.b,{to:"/Papeleria",children:"Papeleria"})},"paper"),Object(r.jsx)(Ge,{className:"float-right",children:Object(r.jsx)(ce.b,{to:"/Impresiones",children:"Impresiones"})},"printing"),Object(r.jsx)(Ge,{className:"float-right",children:Object(r.jsx)(ce.b,{to:"/Serigrafia",children:"Serigraf\xeda"})},"ink"),Object(r.jsx)(Ge,{className:"float-right",children:Object(r.jsx)(ce.b,{to:"/Ropa",children:"Ropa"})},"clothing")]})}),Ke=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(l.a)(n,2),i=a[0],o=a[1],u=Object(c.useState)(""),b=Object(l.a)(u,2),h=b[0],O=b[1],p=(Object(Z.c)((function(e){return Object(V.a)({},e)})).user,Object(Z.b)());Object(c.useEffect)((function(){o(window.localStorage.getItem("emailForRegistration"))}),[]);var x=function(){var e=Object(j.a)(s.a.mark((function e(n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i&&h){e.next=4;break}return d.b.error("Email and password required"),e.abrupt("return");case 4:if(!(h.length<6)){e.next=7;break}return d.b.error("Password must be at least 6 characters long"),e.abrupt("return");case 7:return e.prev=7,e.next=10,Oe.signInWithEmailLink(i,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=21;break}return window.localStorage.removeItem("emailForRegistration"),r=Oe.currentUser,e.next=16,r.updatePassword(h);case 16:return e.next=18,r.getIdTokenResult();case 18:c=e.sent,fe(c.token).then((function(e){p({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:r.email,token:c.token,role:e.data.role,_id:e.data.id}})})).catch((function(e){return console.log(e)})),t.push("/");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),console.log(e.t0),d.b.error(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(P,{children:Object(r.jsx)(R,{children:Object(r.jsxs)(F,{children:[Object(r.jsx)("h4",{children:"Terminar Registro"}),Object(r.jsxs)("form",{onSubmit:x,children:[Object(r.jsxs)(A,{children:[Object(r.jsx)(L,{type:"email",value:i,disabled:!0}),Object(r.jsx)(L,{type:"password",value:h,onChange:function(e){return O(e.target.value)},placeholder:"Contrase\xf1a",autoFocus:!0})]}),Object(r.jsx)(U,{type:"submit",children:"Acceptar"})]})]})})})},Je=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(l.a)(n,2),i=a[0],o=a[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(Z.c)((function(e){return Object(V.a)({},e)})).user;Object(c.useEffect)((function(){p&&p.token&&t.push("/")}),[p]);var x=function(){var e=Object(j.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),n={url:"http://localhost:3000/",handleCodeInApp:!0},e.next=5,Oe.sendPasswordResetEmail(i,n).then((function(){o(""),O(!1),d.b.info("Se ha enviado un link a tu correo para cambiar tu contrase\xf1a. Por favor rev\xedsalo")})).catch((function(e){O(!1),d.b.error(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(P,{children:Object(r.jsx)(R,{children:Object(r.jsxs)(F,{children:[h?Object(r.jsx)("h4",{children:"Espera..."}):Object(r.jsx)("h4",{children:"\xbfOlvidaste tu Contrase\xf1a?"}),Object(r.jsxs)("form",{onSubmit:x,children:[Object(r.jsx)(A,{children:Object(r.jsx)(L,{type:"email",value:i,onChange:function(e){return o(e.target.value)},autoFocus:!0})}),Object(r.jsx)(U,{disabled:!i,children:"Recuperar"})]})]})})})},Me=function(){return Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(ce.b,{to:"./history",children:"Historial"})}),Object(r.jsx)("li",{children:Object(r.jsx)(ce.b,{to:"./password",children:"Contrase\xf1a"})})]})})},qe=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Me,{}),"User page"]})},Be=n(32),We=function(){var e=Object(c.useState)(5),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(u.f)();return Object(c.useEffect)((function(){var e=setInterval((function(){a((function(e){return--e}))}),1e3);return 0===n&&i.push("/"),function(){return clearInterval(e)}}),[n]),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Te redirigiremos en ",n," segundos"]})})},$e=function(e){var t=e.children,n=Object(Be.a)(e,["children"]),c=Object(Z.c)((function(e){return Object(V.a)({},e)})).user;return c&&c.token?Object(r.jsx)(u.a,Object(V.a)(Object(V.a)({},n),{},{render:function(){return t}})):Object(r.jsx)(We,{})},He=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],b=o[1],h=function(){var e=Object(j.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.next=4,Oe.currentUser.updatePassword(n).then((function(){b(!1),a(""),d.b.info("Contrase\xf1a actualizada")})).catch((function(e){b(!1),d.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)(Me,{}),u?Object(r.jsx)("h4",{children:"Espera"}):Object(r.jsx)("h4",{children:"Cambiar contrase\xf1a"}),Object(r.jsxs)("form",{onSubmit:h,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Contrase\xf1a nueva"}),Object(r.jsx)("input",{type:"password",onChange:function(e){return a(e.target.value)},value:n})]}),Object(r.jsx)("button",{disabled:!n||n.length<6||u,children:"Acceptar"})]})]})},Xe=function(){return Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{className:"nav flex-column",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(ce.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(ce.b,{to:"/admin/product/NewProduct",className:"nav-link",children:"Agregar Producto"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(ce.b,{to:"/admin/products",className:"nav-link",children:"Productos"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(ce.b,{to:"/admin/category",className:"nav-link",children:"Categor\xeda"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(ce.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})},Ve=function(){return Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-2",children:Object(r.jsx)(Xe,{})}),Object(r.jsx)("div",{className:"col",children:"admin dashbaord page"})]})})},Qe=function(e){e.children;var t=Object(Be.a)(e,["children"]),n=Object(Z.c)((function(e){return Object(V.a)({},e)})).user,a=Object(c.useState)(!1),i=Object(l.a)(a,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){n&&n.token&&ge(n.token).then((function(e){console.log("Current Admin response"),s(!0)})).catch((function(e){console.log("Admin error",e),s(!1)}))}),[n]),o?Object(r.jsx)(u.a,Object(V.a)({},t)):Object(r.jsx)(We,{})};function Ye(){var e=Object(b.a)(["\n  min-width: 200px;\n"]);return Ye=function(){return e},e}function Ze(){var e=Object(b.a)(["\n  display: flex;\n  min-width: 100px;\n"]);return Ze=function(){return e},e}var et=h.a.div(Ze()),tt=h.a.div(Ye()),nt=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),o=Object(l.a)(i,2),s=o[0],j=o[1],u=Object(c.useState)(""),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(c.useState)(""),x=Object(l.a)(p,2),f=x[0],m=x[1],g=Object(c.useState)(""),v=Object(l.a)(g,2),w=v[0],y=v[1],k=Object(c.useState)(""),S=Object(l.a)(k,2),N=S[0],C=S[1],I=Object(c.useState)(""),z=Object(l.a)(I,2),_=z[0],E=z[1],D=Object(c.useState)(""),R=Object(l.a)(D,2),F=R[0],A=R[1],T=Object(c.useState)(""),G=Object(l.a)(T,2),U=G[0],K=G[1],J=Object(Z.c)((function(e){return Object(V.a)({},e)})).user;var Q=function(){return Object(r.jsx)("img",{src:U})},Y=function(){return Object(r.jsx)("img",{src:"https://wiki.tripwireinteractive.com/images/4/47/Placeholder.png"})};return Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-2",children:Object(r.jsx)(Xe,{})}),Object(r.jsx)(P,{children:Object(r.jsxs)(B,{children:[Object(r.jsxs)(q,{size:"2",paddingRight:"5%",children:[Object(r.jsx)(et,{children:Object(r.jsx)(L,{type:"text",value:n,onChange:function(e){return a(e.target.value)},placeholder:"Nombre del producto"})}),Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Categor\xeda"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsxs)(X,{onChange:function(e){return j(e.target.value)},children:[Object(r.jsx)("option",{value:"",children:" --Seleccione categor\xeda--"}),Object(r.jsx)("option",{value:"ropa",children:"Ropa"}),Object(r.jsx)("option",{value:"serigrafia",children:"Serigraf\xeda"}),Object(r.jsx)("option",{value:"impresiones",children:"Impresiones"}),Object(r.jsx)("option",{value:"papeleria",children:"Papeler\xeda"}),Object(r.jsx)("option",{value:"otros",children:"Otros"})]})})]}),Object(r.jsx)(B,{children:Object(r.jsx)(L,{type:"text",value:h,onChange:function(e){return O(e.target.value)},placeholder:"Descripcion"})}),Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"2",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"URL de imagen"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"text",value:F,onChange:F.length>10?function(e){return function(e){e.preventDefault(),e.stopPropagation(),A(e.target.value),K(F)}(e)}:function(e){return A(e.target.value)},placeholder:"url"})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)($,{disabled:F.length<10,onClick:function(e){return K(F)},style:{marginLeft:"15px",float:"right"},children:"Previsualizar imagen"},"pictureButton")})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Tipo"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsxs)(X,{onChange:function(e){return m(e.target.value)},children:[Object(r.jsx)("option",{value:"",hidden:!0,children:" --Seleccione tipo--"}),Object(r.jsx)("option",{value:"unitario",children:"Unitario"}),Object(r.jsx)("option",{value:"area",children:"\xc1rea"})]})})]}),"unitario"===f&&Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Precio"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"text",value:N,onChange:function(e){return C(e.target.value)},placeholder:"precio"})})]}),"area"===f&&Object(r.jsxs)("div",{children:[Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Precio m\xednimo"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"text",value:w,onChange:function(e){return y(e.target.value)},placeholder:"min"})})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsxs)(H,{children:["Precio por cm",Object(r.jsx)("sup",{children:"2"})]})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"text",value:_,onChange:function(e){return E(e.target.value)},placeholder:"precio"})})]})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(M,{}),Object(r.jsx)($,{onClick:function(e){e.preventDefault(),function(e,t){return te.a.post("".concat("http://localhost:8000/api","/create-product"),e,{headers:{authtoken:t}})}({name:n,category:s,description:h,image:F},J.token).then((function(e){if("unitario"===f){var t={price:N,prodId:e.data._id};n=t,r=J.token,te.a.post("".concat("http://localhost:8000/api","/create-price-per-quantity"),n,{headers:{authtoken:r}})}else if("area"===f){!function(e,t){te.a.post("".concat("http://localhost:8000/api","/create-price-per-area"),e,{headers:{authtoken:t}})}({minPrice:w,priceArea:_,prodId:e.data._id},J.token)}var n,r;d.b.success('"'.concat(e.data.name,'" creado'))}))},disabled:n.length<1||""===s||h.length<1||"unitario"===f&&N<=0||"area"===f&&_<=0||""===f||F.length<10,children:"Crear producto"},"addButton")]})]}),Object(r.jsx)(q,{size:"1",children:Object(r.jsxs)(tt,{children:[Object(r.jsx)(M,{}),U&&Object(r.jsx)(Q,{}),!U&&Object(r.jsx)(Y,{}),Object(r.jsx)(M,{})]})})]})})]})})},rt=n(124),ct=n(89),at=n.n(ct);function it(){var e=Object(b.a)(["\n    padding-top: 10px;\n    padding-right: 20px;\n    min-width: 100px;\n  "]);return it=function(){return e},e}function ot(){var e=Object(b.a)(["\n    min-width: 100px;\n  "]);return ot=function(){return e},e}function st(){var e=Object(b.a)(["\n    font-weight: bold;\n  "]);return st=function(){return e},e}var jt=h.a.h1(st()),ut=h.a.p(ot()),dt=h.a.p(it()),lt=function(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e)},bt=function(e){var t=e.match,n=Object(c.useState)({}),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)({}),j=Object(l.a)(s,2),u=j[0],d=j[1],b=Object(c.useState)({}),h=Object(l.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)({}),f=Object(l.a)(x,2),m=f[0],g=void 0===m?0:m,v=f[1],w=Object(c.useState)({}),y=Object(l.a)(w,2),k=y[0],S=void 0===k?0:k,N=y[1],C=Object(c.useState)(""),I=Object(l.a)(C,2),z=I[0],_=void 0===z?0:z,E=I[1],D=Object(c.useState)("Dale click para a\xf1adir al carrito"),R=Object(l.a)(D,2),F=R[0],A=R[1],T=Object(Z.c)((function(e){return Object(V.a)({},e)})),G=(T.user,T.cart,Object(Z.b)()),U=t.params.id;Object(c.useEffect)((function(){K(),J(),X()}),[U]);var K=function(){return re(U).then((function(e){return o(e.data)}))},J=function(){return(e=U,te.a.get("".concat("http://localhost:8000/api","/get-price-quantity-by-productid/").concat(e))).then((function(e){return d(e.data)}));var e},X=function(){return(e=U,te.a.get("".concat("http://localhost:8000/api","/get-price-area-by-productid/").concat(e))).then((function(e){return p(e.data)}));var e},Q={nombre:null,product_key:null,descripcion:null,precio:null,precioMin:null};Q.nombre=i.name,Q.product_key=i.id,Q.descripcion=i.description,null===u?(Q.precio=O.priceArea,Q.precioMin=O.minPrice):null===O&&(Q.precio=u.price);var Y=i.image,ee=0,ne=0,ce=0;var ae=function(){return Object(r.jsx)("img",{src:Y})},ie=function(){var e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(V.a)(Object(V.a)({},i),{},{cantidad:_,total:ce}));var t=at.a.unionWith(e,at.a.isEqual);localStorage.setItem("cart",JSON.stringify(t)),A("Producto a\xf1adido"),G({type:"ADD_TO_CART",payload:t})}};return Object(r.jsx)(P,{children:Object(r.jsxs)(B,{children:[Object(r.jsxs)(q,{size:"2",paddingRight:"5%",children:[Object(r.jsx)(B,{children:Object(r.jsx)(jt,{children:Q.nombre})}),Object(r.jsx)(B,{children:Object(r.jsx)(H,{children:"Descripci\xf3n:"})}),Object(r.jsx)(B,{children:Object(r.jsx)(ut,{children:Q.descripcion})}),null===O&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1"}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Cantidad:"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"number",value:_,onChange:function(e){return E(e.target.value)},min:0})})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(M,{}),Object(r.jsx)(dt,{thousandSeparator:!0,prefix:"$",children:(ce=Q.precio*_,lt(ce))}),Object(r.jsx)(rt.a,{title:F,children:Object(r.jsxs)($,{onClick:ie,disabled:_<1,children:["Agregar a carrito ",Object(r.jsx)(Ee.a,{})]})})]})]}),null===u&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Largo en cm:"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"number",value:g,onChange:function(e){return v(e.target.value)},min:0,style:{minWidth:"100px"}})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Ancho en cm:"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"number",value:S,onChange:function(e){return N(e.target.value)},min:0,style:{minWidth:"100px"}})})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"\xc1rea:"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsxs)(dt,{children:[g>0&&S>0?ee=g*S:0,"\xa0cm",Object(r.jsx)("sup",{children:"2"})]})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Precio por impresi\xf3n:"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(dt,{thousandSeparator:!0,prefix:"$",children:ee>0?(ne=ee*Q.precio,lt(ne)):lt(0)})})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(q,{size:"2"}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(W,{children:Object(r.jsx)(H,{children:"Cantidad:"})})}),Object(r.jsx)(q,{size:"1",children:Object(r.jsx)(L,{type:"number",value:_,onChange:function(e){return E(e.target.value)},min:0})})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(M,{}),Object(r.jsx)(dt,{thousandSeparator:!0,prefix:"$",children:(ce=ne*_)>Q.precioMin?lt(ce):lt(Q.precioMin)}),Object(r.jsx)(rt.a,{title:F,children:Object(r.jsxs)($,{onClick:ie,disabled:_<1,children:["Agregar a carrito ",Object(r.jsx)(Ee.a,{})]})})]})]})]}),Object(r.jsx)(q,{size:"1",children:Object(r.jsxs)(B,{children:[Object(r.jsx)(M,{}),Object(r.jsx)(ae,{}),Object(r.jsx)(M,{})]})})]})})},ht=n(204),Ot=function(){var e=Object(Z.c)((function(e){return Object(V.a)({},e)})).user,t=Object(c.useState)(""),n=Object(l.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(!1),u=Object(l.a)(o,2),b=u[0],h=u[1],O=Object(c.useState)([]),p=Object(l.a)(O,2),x=p[0],f=p[1],m=Object(c.useState)(""),g=Object(l.a)(m,2),v=g[0],w=g[1];Object(c.useEffect)((function(){y()}),[]);var y=function(){return Pe().then((function(e){return f(e.data)}))},k=function(t){t.preventDefault(),h(!0),Fe({name:a},e.token).then((function(e){h(!1),i(""),d.b.success('"'.concat(e.data.name,'" creada')),y()})).catch((function(e){console.log(e),h(!1),400===e.response.status&&d.b.error(e.response.data)}))},S=function(){var t=Object(j.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("\xbfEst\xe1s seguro de borrar?")&&(h(!0),Re(n,e.token).then((function(e){h(!1),d.b.error("".concat(e.data.name," borrada")),y()})).catch((function(e){400===e.response.status&&(h(!1),d.b.error(e.response.data))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-2",children:Object(r.jsx)(Xe,{})}),Object(r.jsxs)("div",{className:"col",children:[b?Object(r.jsx)("h4",{className:"text-danger",children:"Cargando.."}):Object(r.jsx)("h4",{children:"Crear categor\xeda"}),Object(r.jsx)("form",{onSubmit:k,children:Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Nombre"}),Object(r.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return i(e.target.value)},value:a,autoFocus:!0,required:!0}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{className:"btn btn-outline-primary",children:"Guardar"})]})}),Object(r.jsx)("hr",{}),Object(r.jsx)(le,{keyword:v,setKeyword:w}),x.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(v)).map((function(e){return Object(r.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(r.jsx)("span",{onClick:function(){return S(e.slug)},className:"btn btn-sm float-right",children:Object(r.jsx)(ht.a,{className:"text-danger"})})]},e._id)}))]})]})})},pt=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),u=j[0],d=j[1];Object(c.useEffect)((function(){b()}),[]);var b=function(){ne("ropa").then((function(e){console.log(e),e&&o(e.data)}))};return Object(r.jsxs)(P,{children:[Object(r.jsx)(le,{keyword:u,setKeyword:d}),Object(r.jsx)("div",{className:"row",children:i.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){return Object(r.jsx)("div",{className:"col-md-4",children:Object(r.jsx)(de,{name:e.name,image:e.image,id:e._id,hidden:e.hidden})},e._id)}))})]})},xt=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),u=j[0],d=j[1];Object(c.useEffect)((function(){b()}),[]);var b=function(){ne("serigrafia").then((function(e){console.log(e),e&&o(e.data)}))};return Object(r.jsxs)(P,{children:[Object(r.jsx)(le,{keyword:u,setKeyword:d}),Object(r.jsx)("div",{className:"row",children:i.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){return Object(r.jsx)("div",{className:"col-md-4",children:Object(r.jsx)(de,{name:e.name,image:e.image,id:e._id,hidden:e.hidden})},e._id)}))})]})},ft=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),u=j[0],d=j[1];Object(c.useEffect)((function(){b()}),[]);var b=function(){ne("papeleria").then((function(e){console.log(e),e&&o(e.data)}))};return Object(r.jsxs)(P,{children:[Object(r.jsx)(le,{keyword:u,setKeyword:d}),Object(r.jsx)("div",{className:"row",children:i.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){return Object(r.jsx)("div",{className:"col-md-4",children:Object(r.jsx)(de,{name:e.name,image:e.image,id:e._id,hidden:e.hidden})},e._id)}))})]})},mt=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),u=j[0],d=j[1];Object(c.useEffect)((function(){b()}),[]);var b=function(){ne("impresiones").then((function(e){console.log(e),e&&o(e.data)}))};return Object(r.jsxs)(P,{children:[Object(r.jsx)(le,{keyword:u,setKeyword:d}),Object(r.jsx)("div",{className:"row",children:i.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){return Object(r.jsx)("div",{className:"col-md-4",children:Object(r.jsx)(de,{name:e.name,image:e.image,id:e._id,hidden:e.hidden})},e._id)}))})]})},gt=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(""),j=Object(l.a)(s,2),u=j[0],d=j[1];Object(c.useEffect)((function(){b()}),[]);var b=function(){ne("otros").then((function(e){console.log(e),e&&o(e.data)}))};return Object(r.jsxs)(P,{children:[Object(r.jsx)(le,{keyword:u,setKeyword:d}),Object(r.jsx)("div",{className:"row",children:i.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){return Object(r.jsx)("div",{className:"col-md-4",children:Object(r.jsx)(de,{name:e.name,image:e.image,id:e._id,hidden:e.hidden})},e._id)}))})]})},vt=n(205),wt=function(e){var t=e.p,n=Object(Z.b)();return Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)("img",{src:t.image,width:"100",height:"auto"})}),Object(r.jsx)("td",{children:t.name}),Object(r.jsx)("td",{children:t.description}),Object(r.jsx)("td",{children:t.cantidad}),Object(r.jsxs)("td",{children:["$",t.total/t.cantidad]}),Object(r.jsx)("td",{className:"text-center",children:Object(r.jsx)(vt.a,{onClick:function(){var e=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.map((function(n,r){n._id===t._id&&e.splice(r,1)})),localStorage.setItem("cart",JSON.stringify(e)),n({type:"ADD_TO_CART",payload:e}))},className:"text-danger poiner"})})]})})},yt=function(){var e=Object(Z.c)((function(e){return Object(V.a)({},e)})),t=e.cart,n=e.user;Object(Z.b)();return Object(r.jsx)("div",{className:"container-fluid pt-2",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col-md-8",children:[Object(r.jsxs)("h4",{children:["Carrito - ",t.length," Productos"]}),t.length?Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{className:"thead-light",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Imagen"}),Object(r.jsx)("th",{scope:"col",children:"Nombre"}),Object(r.jsx)("th",{scope:"col",children:"Detalles"}),Object(r.jsx)("th",{scope:"col",children:"Cantidad"}),Object(r.jsx)("th",{scope:"col",children:"Precio"}),Object(r.jsx)("th",{scope:"col",children:"Remover"})]})}),t.map((function(e){return Object(r.jsx)(wt,{p:e},e._id)}))]}):Object(r.jsxs)("p",{children:["No hay productos en el carrito. ",Object(r.jsx)(ce.b,{to:"/",children:"Continuar viendo productos."})]})]}),Object(r.jsxs)("div",{className:"col-md-4",children:[Object(r.jsx)("h4",{children:"Resumen de Orden"}),Object(r.jsx)("hr",{}),Object(r.jsx)("p",{children:"Productos"}),t.map((function(e,t){return Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:[e.name," x ",e.cantidad," = $",e.total]})},t)})),Object(r.jsx)("hr",{}),"Total: ",Object(r.jsxs)("b",{children:["$",t.reduce((function(e,t){return e+t.total}),0)]}),Object(r.jsx)("hr",{}),n?Object(r.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:"Crear presupuesto"}):Object(r.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:Object(r.jsx)(ce.b,{to:{pathname:"/login",state:{from:"cart"}},children:"Inicia sesi\xf3n para hacer el presupuesto"})})]})]})})},kt=function(){var e=Object(Z.b)();return Object(c.useEffect)((function(){var t=Oe.onAuthStateChanged(function(){var t=Object(j.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,n.getIdTokenResult();case 3:r=t.sent,me(r.token).then((function(t){e({type:"LOGGED_IN_USER",payload:{name:t.data.name,email:t.data.email,token:r.token,role:t.data.role,_id:t.data.id}})})).catch((function(e){return console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ue,{}),Object(r.jsx)(d.a,{}),Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{exact:!0,path:"/",component:be}),Object(r.jsx)(u.a,{exact:!0,path:"/login",component:ye}),Object(r.jsx)(u.a,{exact:!0,path:"/Product/:id",component:bt}),Object(r.jsx)(u.a,{exact:!0,path:"/Ropa",component:pt}),Object(r.jsx)(u.a,{exact:!0,path:"/Serigrafia",component:xt}),Object(r.jsx)(u.a,{exact:!0,path:"/Papeleria",component:ft}),Object(r.jsx)(u.a,{exact:!0,path:"/Otros",component:gt}),Object(r.jsx)(u.a,{exact:!0,path:"/Impresiones",component:mt}),Object(r.jsx)(u.a,{exact:!0,path:"/register",component:xe}),Object(r.jsx)(u.a,{exact:!0,path:"/register/complete",component:Ke}),Object(r.jsx)(u.a,{exact:!0,path:"/forgot/password",component:Je}),Object(r.jsx)($e,{exact:!0,path:"/user/history",component:qe}),Object(r.jsx)($e,{exact:!0,path:"/user/password",component:He}),Object(r.jsx)(Qe,{exact:!0,path:"/admin/dashboard",component:Ve}),Object(r.jsx)(Qe,{exact:!0,path:"/admin/category",component:Ot}),Object(r.jsx)(Qe,{exact:!0,path:"/admin/product/NewProduct",component:nt}),Object(r.jsx)(u.a,{exact:!0,path:"/cart",component:yt})]})]})},St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},Nt=(n(187),n(54)),Ct=n(120);var It=Object(Nt.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN_USER":case"LOGOUT":return t.payload;default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return t.payload;default:return e}}}),zt=Object(Nt.createStore)(It,Object(Ct.composeWithDevTools)());i.a.render(Object(r.jsx)(Z.a,{store:zt,children:Object(r.jsx)(ce.a,{children:Object(r.jsx)(kt,{})})}),document.getElementById("root")),St()}},[[188,1,2]]]);
//# sourceMappingURL=main.c6665f3e.chunk.js.map